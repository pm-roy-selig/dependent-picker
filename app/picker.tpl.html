<label>{{label}}</label>

<span ng-switch="type">

    <div ng-switch-when="button-group">
        <div class="btn-group"
             role="group" aria-label="...">
            <button type="button" class="btn btn-default"
                    ng-class="{active:model===option.name}"
                    ng-repeat="option in options"
                    ng-click="select( option.name )">{{option.name}}
            </button>
        </div>
        <hr>
    </div>

    <select ng-switch-default
            ng-model="model"
            ng-disabled="options.length===0"
            ng-change="onpick()">
        <option ng-repeat="option in options"
                value="{{option.value||option.name}}">{{option.name}}
        </option>
    </select>

    <span ng-if="progressive && model.length>0 || progressive===false || !progressive" ng-transclude></span>

</span>